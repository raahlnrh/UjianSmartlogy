<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Review - BlueMist Nail Studio</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

</head>
<body>

<!-- NAVBAR dengan toggler -->
<nav class="navbar navbar-expand-lg navbar-light shadow-sm">
  <div class="container">
    <a class="navbar-brand fw-bold" href="index.html">BlueMist Nail Studio</a>

    <!-- Tombol toggler untuk HP -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu" aria-controls="navMenu" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Beranda</a></li>
        <li class="nav-item"><a class="nav-link" href="galeri.html">Galeri</a></li>
        <li class="nav-item"><a class="nav-link" href="detail.html">Produk</a></li>
        <li class="nav-item"><a class="nav-link" href="tentang.html">Tentang</a></li>
        <li class="nav-item"><a class="nav-link" href="booking.html">Booking</a></li>
        <li class="nav-item"><a class="nav-link active" href="review.html">Review</a></li>
        <li class="nav-item"><a class="nav-link position-relative" href="cart.html">Keranjang <span id="cartCount" class="nav-count">0</span></a></li>
      </ul>
    </div>
  </div>
</nav>


<main class="container py-5">
  <section class="soft p-4 mb-4 text-center shadow-sm">
    <h2 class="fw-bold">Review & Testimoni</h2>
    <p class="small">Tulis pengalamanmu — review akan tersimpan di browser dan tampil di halaman ini.</p>
  </section>

  <div class="soft p-4 mb-4 shadow-sm">
    <h5 class="mb-3">Tulis Review</h5>
    <form id="reviewForm">
      <div class="mb-3"><label class="form-label">Nama</label><input id="rName" type="text" class="form-control" placeholder="Nama atau panggilan"></div>
      <div class="mb-3"><label class="form-label">Pilih Produk</label>
        <select id="rProd" class="form-select">
          <option value="prod-1">NailArt Starter Kit</option>
          <option value="prod-2">Premium Soft Blue Gel Polish Press-On</option>
          <option value="prod-3">Flower Charm Nail Set Press-On</option>
          <option value="prod-4">Marble Art Brush Set</option>
          <option value="prod-5">Crystal Glitter Powder</option>
          <option value="prod-6">Soft Blue Pastel Tips Press-On</option>
          <option value="prod-7">French Tip Mini Kit</option>
          <option value="prod-8">Nail Stickers Mix</option>
          <option value="prod-9">Strong Nail Glue</option>
          <option value="prod-10">Nail Cuticle Oil</option>
          <option value="prod-11">Nail File & Buffer Set</option>
          <option value="prod-12">Gentle Nail Remover</option>
          <option value="press-1">Blossom Pink Press-On</option>
          <option value="press-2">Classy Nude Beige Press-On</option>
          <option value="press-3">Dark Galaxy Set Press-On</option>
          <option value="press-4">Pastel Aurora Glow Press-On</option>
          <option value="press-5">Soft Milky White Set Press-On</option>
          <option value="press-6">Romantic Rose Gold Press-On</option>
        </select>
      </div>
      <div class="mb-3"><label class="form-label">Rating</label>
        <div id="rStars" class="star-rating">
          <span data-val="1" class="star">★</span>
          <span data-val="2" class="star">★</span>
          <span data-val="3" class="star">★</span>
          <span data-val="4" class="star">★</span>
          <span data-val="5" class="star">★</span>
        </div>
        <input id="rValue" type="hidden" value="5">
      </div>
      <div class="mb-3"><label class="form-label">Ulasan</label><textarea id="rText" class="form-control" rows="4" placeholder="Tulis pengalamanmu..."></textarea></div>
      <button type="submit" class="btn btn-primary">Kirim Review</button>
    </form>
  </div>

  <section>
    <h5 class="mb-3">Testimoni Pelanggan</h5>
    <div id="reviewsList"></div>
  </section>
</main>

<footer class="footer"><div class="container"><p>&copy; 2025 BlueMist Nail Studio</p></div></footer>

<!-- Bootstrap JS untuk tombol toggler -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
// cart
function getCart(){return JSON.parse(localStorage.getItem('nail_cart')||'[]');}
function saveCart(c){localStorage.setItem('nail_cart',JSON.stringify(c));updateCartCount();}
function addToCart(id){const cart=getCart();const it=cart.find(i=>i.id===id);if(it)it.qty++;else cart.push({id:id,qty:1});saveCart(cart);}
function updateCartCount(){const c=getCart();const sum=c.reduce((s,i)=>s+i.qty,0);const el=document.getElementById('cartCount');if(el)el.textContent=sum;}
updateCartCount();window.addEventListener('storage',updateCartCount);

// initial sample reviews
const SAMPLE_REVIEWS = [
  {name:'Ayu',prod:'Premium Soft Blue Gel Polish',rate:5,text:'Warnanya cantik dan tahan lama. Sangat puas!',date:'2025-01-10'},
  {name:'Dina',prod:'NailArt Starter Kit',rate:4,text:'Alatnya lengkap, cuma butuh belajar sedikit lagi. Recommended.',date:'2025-02-02'},
  {name:'Rina',prod:'Flower Charm Nail Set',rate:5,text:'Sangat cute! Banyak yang tanya dari Instagramku.',date:'2025-03-18'},
  {name:'Sari',prod:'Crystal Glitter Powder',rate:3,text:'Cantik tapi butuh teknik supaya tidak berantakan.',date:'2025-04-05'},
  {name:'Nadia',prod:'Soft Blue Pastel Tips',rate:4,text:'Praktis dipasang, nyaman dipakai beberapa hari.',date:'2025-05-20'},
  {name:'Maya',prod:'Nail Cuticle Oil',rate:2,text:'Kurang suka dengan aroma, tapi fungsinya lumayan.',date:'2025-06-12'}
];

function getReviews(){return JSON.parse(localStorage.getItem('nail_reviews'))||SAMPLE_REVIEWS;}
function saveReviews(r){localStorage.setItem('nail_reviews',JSON.stringify(r));}

// star click
const rStars=document.getElementById('rStars');
rStars.addEventListener('click',(e)=>{
  if(e.target.dataset && e.target.dataset.val){
    const v=Number(e.target.dataset.val);
    document.getElementById('rValue').value=v;
    rStars.querySelectorAll('span').forEach((s,i)=>s.classList.toggle('active', i< v));
  }
});

// render
function renderReviews(){
  const list=getReviews();
  const el=document.getElementById('reviewsList');
  el.innerHTML='';
  if(!list||list.length===0){
    el.innerHTML='<p class="small">Belum ada review. Jadilah yang pertama!</p>';
    return;
  }
  list.slice().reverse().forEach(rv=>{
    const box=document.createElement('div');
    box.className='review-box mb-3';
    let stars='';
    for(let i=0;i<rv.rate;i++)stars+='<span class="star active">★</span>';
    for(let i=rv.rate;i<5;i++)stars+='<span class="star">★</span>';
    box.innerHTML=`
      <h6>${rv.name} <small class='text-muted'>- ${rv.prod}</small></h6>
      <p>${stars}</p>
      <p>${rv.text}</p>
      <small class='text-muted'>${new Date(rv.date).toLocaleDateString()}</small>`;
    el.appendChild(box);
  });
}

// submit review
document.getElementById('reviewForm').addEventListener('submit',(e)=>{
  e.preventDefault();
  const name=document.getElementById('rName').value||'Anonim';
  const prod=document.getElementById('rProd').options[document.getElementById('rProd').selectedIndex].text;
  const rate=Number(document.getElementById('rValue').value||5);
  const text=document.getElementById('rText').value||'';
  const reviews=getReviews();
  reviews.push({name:name,prod:prod,rate:rate,text:text,date:new Date().toISOString()});
  saveReviews(reviews);
  renderReviews();
  document.getElementById('reviewForm').reset();
  document.getElementById('rValue').value=5;
  document.querySelectorAll('#rStars span').forEach((s,i)=>s.classList.toggle('active', i<5));
  alert('Terima kasih atas review Anda!');
});

renderReviews();
</script>

</body>
</html>
